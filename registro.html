<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.slim.js" integrity="sha256-HwWONEZrpuoh951cQD1ov2HUK5zA5DwJ1DNUXaM6FsY=" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <script src="Funciones/funciones_registrar.js"></script>
    <link rel="stylesheet" href="css/registro.css"><link rel="stylesheet" href="css/normalize.css">

    
</head>
<body>
    <header class="head">
        <img src="imagenes/LOGO.svg" >
        <img src="imagenes/btn-ayuda.svg">
    </header>

    <div class="principal">

        <div class="contenedor">

            <div class="frame_arriba">
                <div class="izq">
                    
                    <img class="separador" src="imagenes/Vector 145.svg"  onclick="window.location='login.html'">
                    <b class="texto">Crear cuenta</b>
                </div>
                <div class="der">
                    <b class="text_der">Ya tengo una cuenta</b>
                </div>

            </div>

            <form id="formu" action="creado.html" class="formulario">

                <div class="frame">

                    <input id="emailForm" class="mandatoryfields ruso" type="text" required>
                    <label>E-mail*</label>

                </div>
                <div class="frame">

                    <input id="nombreForm" class="mandatoryfields ruso" type="text" required>
                    <label>Nombre*</label>

                </div>
                <div class="frame">

                    <input id="contraseñaForm" class="mandatoryfields ruso" type="password" placeholder="Minimo 6 caracteres" required>
                    <label>Contraseña*</label>

                </div>
                <div class="frame-checkbox">

                    <input id="radioFrame" class="mandatoryfields input-box" type="checkbox"><b class="texto-box">Al crear una cuenta Yimi, entiendo y acepto la <b style="color:#1A75CF; font-weight: 550;">política de privacidad</b> y los<b style="color:#1A75CF; font-weight: 550;" > términos de uso</b> de Yimi.</b></input>
                   
                </div>
               
                <div class="frame">

                    <input id="vl" type="submit" value="Crear una cuenta"></input>

                </div>
                
            </form>

            <script>
                let cont = 0;
                let contAux = 0;
                var uno = false;
                var dos = false;
                var tres = false;
                var cuatro = false;
            
            
             document.getElementById("formu").addEventListener("submit", function(event){
            
                let hasError = false;
            
                valorEmail = document.getElementById('emailForm').value;
                valorNombre = document.getElementById('nombreForm').value;
                valorContraseña = document.getElementById('contraseñaForm').value;
                
                //Validar campos vacios
            
                if( valorEmail == null || valorEmail.length == 0) {
                  alert('Error, el campo Email está vacio');
                  hasError = true;
                  uno = false;
                  console.log(uno);
                }else{ uno = true; console.log(uno);}
            
                if( valorNombre == null || valorNombre.length == 0) {
                  alert('Error, rellena el campo nombre');
                  hasError = true;
                  dos = false;
                  console.log(dos);
                }else{ dos = true; console.log(dos);}
            
                if( valorContraseña == null || valorContraseña.length == 0) {
                  alert('Error, el campo contraseña está vacio');
                  hasError = true;
                  tres = false;
                  console.log(tres);
                }else{ tres = true;  console.log(tres);}
            
                if(!radioFrame.checked ){
                  alert('Necesita Aceptar los terminos y condiciones');
                  hasError = true;
                  cuatro = false;
                  console.log(cuatro);
                }else{ cuatro =true; console.log(cuatro);}
            
                //Validaciones Especificas en Gmail y Contraseña
            
            
                //Validar los datos de Gmail
                var expReg= /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/;
                var esValido = expReg.test(valorEmail);
                if (esValido==true) {
                    alert('El correo electronico es valido')
                    cont++;
                    
                }else{
                    alert('El correo electronico NO es valido')
                    hasError = true;
                }
            
                //Validar Contraseña
                if ($('#contraseñaForm').val().length >   6 ) { 
                alert('Contraseña cumple con los requisitos');
                cont++;         
                }else{
                    alert('La contraseña NO cumple con los requisitos')
                    hasError = true;
                }
            
                //Si hay error no se ejecuta el submit
                if(hasError) event.preventDefault();
            
                });
            
                //cambiando de color del boton 
            
            
                $(".mandatoryfields").on("change", function () {
                    if($('#emailForm').val().length > 0 && $('#nombreForm').val().length > 0  && $('#contraseñaForm').val().length > 0 && radioFrame.checked){
                    $('#vl').css({background:'#1A75CF', color:'white'})
                
                    }
                    else{
                        $('#vl').css({background:'white' , color:'#1A75CF;'})
                    }
            
                });
            
             </script>
            


        </div>

    </div>
</body>
</html>